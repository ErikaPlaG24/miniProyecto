<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica Cine AJAX XML</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body> 
    <div id="login">
        <form id="loginForm" class="login-form" onsubmit="iniciarSesion(); return false;">
            <h2><span aria-label="claqueta" title="Cine">ğŸ¬</span> Iniciar SesiÃ³n</h2>
            <div class="form-group">
                <label for="usuario">Usuario</label>
                <input type="text" id="usuario" placeholder="Usuario" required>
            </div>
            <div class="form-group">
                <label for="contrasena">ContraseÃ±a</label>
                <input type="password" id="contrasena" placeholder="ContraseÃ±a" required>
            </div>
            <button type="submit" class="btn-login"><span aria-label="ticket" title="Entrar">ğŸŸï¸</span> Entrar</button>
        </form>
    </div>

    <div id="salas" style="display:none;">
        <h2><span aria-label="pantalla" title="Pantalla">ğŸ›‹ï¸</span> Seleccione sala y Asientos</h2>
        <select id="salaSeleccion" onchange="generarAsientos()">
            <option value="1">Sala 1 ğŸ¿</option>
            <option value="2">Sala 2 ğŸ¥</option>
            <option value="3">Sala 3 ğŸ¬</option>
        </select>
        <div id="peliculasContainer"></div>
        <div id="asientosContainer"></div>
        <button onclick="comprar()"><span aria-label="ticket" title="Comprar">ğŸŸï¸</span> Comprar</button>
    </div>

    <div id="ticket" style="display:none;">
        <h2><span aria-label="ticket" title="Boleto">ğŸ«</span> Boleto</h2>
        <p id="detallesBoleto"></p>
        <p id="totalPago"></p>
    </div>

    <div id="logout" style="display:none;">
        <button onclick="cerrarSesion()"><span aria-label="salir" title="Cerrar SesiÃ³n">ğŸšª</span> Cerrar SesiÃ³n</button>
    </div>

    <script src="script.js"></script>
    <script>
      // Mostrar asientos por defecto al mostrar la secciÃ³n de salas
      // Sobrescribe iniciarSesion para llamar a generarAsientos()
      const originalIniciarSesion = window.iniciarSesion;
      window.iniciarSesion = function() {
        originalIniciarSesion();
        if (document.getElementById("salas").style.display === "block") {
          generarAsientos();
        }
      }
    </script>
</body>
</html>