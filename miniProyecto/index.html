<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica Cine AJAX XML</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body> 
    <div id="login">
        <form id="loginForm" class="login-form" onsubmit="iniciarSesion(); return false;">
            <h2><span aria-label="claqueta" title="Cine">🎬</span> Iniciar Sesión</h2>
            <div class="form-group">
                <label for="usuario">Usuario</label>
                <input type="text" id="usuario" placeholder="Usuario" required>
            </div>
            <div class="form-group">
                <label for="contrasena">Contraseña</label>
                <input type="password" id="contrasena" placeholder="Contraseña" required>
            </div>
            <button type="submit" class="btn-login"><span aria-label="ticket" title="Entrar">🎟️</span> Entrar</button>
        </form>
    </div>

    <div id="salas" style="display:none;">
        <h2><span aria-label="pantalla" title="Pantalla">🛋️</span> Seleccione sala y Asientos</h2>
        <select id="salaSeleccion" onchange="generarAsientos()">
            <option value="1">Sala 1 🍿</option>
            <option value="2">Sala 2 🎥</option>
            <option value="3">Sala 3 🎬</option>
        </select>
        <div id="peliculasContainer"></div>
        <div id="asientosContainer"></div>
        <button onclick="comprar()"><span aria-label="ticket" title="Comprar">🎟️</span> Comprar</button>
    </div>

    <div id="ticket" style="display:none;">
        <h2><span aria-label="ticket" title="Boleto">🎫</span> Boleto</h2>
        <p id="detallesBoleto"></p>
        <p id="totalPago"></p>
    </div>

    <div id="logout" style="display:none;">
        <button onclick="cerrarSesion()"><span aria-label="salir" title="Cerrar Sesión">🚪</span> Cerrar Sesión</button>
    </div>

    <script src="script.js"></script>
    <script>
      // Mostrar asientos por defecto al mostrar la sección de salas
      // Sobrescribe iniciarSesion para llamar a generarAsientos()
      const originalIniciarSesion = window.iniciarSesion;
      window.iniciarSesion = function() {
        originalIniciarSesion();
        if (document.getElementById("salas").style.display === "block") {
          generarAsientos();
        }
      }
    </script>
</body>
</html>